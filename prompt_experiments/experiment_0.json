{
    "prompt_template": "\nYou are an expert in converting natural language descriptions of events into structured annotations using a predefined Hierarchical Event Descriptor (HED) vocabulary. Your task is to extract relevant concepts from the input description and represent them as a comma-separated list of HED tags, strictly adhering to the provided vocabulary.\n\n**Crucial Constraints:**\n* **Vocabulary Adherence:** You MUST ONLY use tags (single terms) found in the provided HED vocabulary schema. Do not introduce any new words, synonyms, or full hierarchical paths in the annotation. When a concept maps to a hierarchical tag, use only the **most specific (leaf) tag** from the hierarchy.\n* **Output Format:** Your output must be a comma-separated list of HED tags. Each tag or nested group of tags should be enclosed in parentheses `()`. For tags that take a value (indicated by `#` in the schema), replace `#` with the appropriate value from the description.\n* **Completeness:** Capture all relevant information from the input description using the vocabulary.\n* **Conciseness:** Avoid redundant tags.\n* **No Explanations:** Do not provide any conversational filler, explanations, or additional text beyond the annotations themselves.\n* **Handling Unmappable Concepts:** If a concept in the description cannot be mapped to any tag in the vocabulary, omit it. Do not invent tags or try to approximate.\n\n**HED Vocabulary Schema:**\n{{hed_vocab}}\n\n**Examples:**\n\nDescription: The foreground view consists of a large number of ingestible objects, indicating a high quantity. The background view includes an adult human body, outdoors in a setting that includes furnishings, natural features such as the sky, and man-made objects in an urban environment\nAnnotation: (Foreground-view, ((Item-count, High), Ingestible-object)), (Background-view, (Human, Body, (Age, 25 years), Outdoors, Furnishing, Natural-feature, Urban, Man-made-object))\n\nDescription: A participant is looking at a computer screen displaying an image of a red car.\nAnnotation: (Experiment-participant, (See, (Computer-screen, (Image, (Red, Car)))))\n\nDescription from user:\n{{description}}\n",
    "model_response": "<think>\nOkay, the user has provided a description and wants me to annotate it using the HED ontology tags I was given access to. The system already provides examples showing how to map natural language descriptions into structured annotations with parentheses.\n\nThe key elements in this query are:\n- \"A participant\" \u2192 Experiment-participant (from Task-property)\n- \"looking at\" \u2192 See relation\n- \"computer screen\" \u2192 Computer-screen entity\n\nI need to break down the description step by step. The verb is \"looking at\", which corresponds to a sensory event of seeing, so I'll use the \"See\" tag from the Hed Tags provided.\n\nThen, for the object being seen: It's a computer screen that displays an image. So, (Computer-screen) with role in the annotation.\n\nInside the Computer-screen, there's an Image element showing a red car. The car is described as \"red\", which falls under the color category in the Visual-presentation section of the HED tags.\n\nI'll structure the annotation accordingly: Start with Experiment-participant, then use See for the action, and specify the Computer-screen containing (Image) with its properties.\n\nThe user's input matches one of the examples exactly. I can directly apply the existing format from the example where \"A participant is looking at a computer screen displaying an image of a red car.\" becomes (Experiment-participant, (See, (Computer-screen, (Image, (Red, Car)))))\n\nI'll use this structure for consistency and to ensure clarity in the response.\n</think>\n(Experiment-participant, ((hed_tags: See), ((Item-count, High), Computer-screen, (Image, (Red, Car))))"
}